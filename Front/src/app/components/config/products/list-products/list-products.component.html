<!-- <app-progress-bar *ngIf="loading"></app-progress-bar> *ngIf="!loading" -->
<div class="w-75 mx-auto">
  <div class="row-md-12 p-1">
    <div class="panel panel-default">
      <div class="panel-heading ComponentTittle">
        <h3>Productos</h3>
        <button type="button" class="btn btn-outline-success" routerLink="/config/addProduct">
          Agregar Producto
        </button>
      </div>
      <div class="panel-body">
        <table class="table table-condensed table-striped">
          <thead>
            <tr>
              <th></th>
              <th>Material</th>
              <th>Nombre</th>
              <th>CÃ³digo</th>
              <th class="text-center">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of listProducts" data-toggle="collapse" data-target="#demo1" class="accordion-toggle">
              <td>
                <button class="btn btn-default  ">
                  <i class="bi bi-eye-fill"></i>
                </button>
              </td>
              <td>{{ item.name }}</td>
              <td>{{ item.shortname }}</td>
              <td>{{ item.code }}</td>
              <td class="text-center">
                <div class="btn-group">
                  <button [routerLink]="['/config/editProduct', item.productid]" type="button"
                    class="btn btn-outline-warning " title="Editar producto">
                    <i class="bi bi-pencil"></i>
                  </button>
                  
                  <button (click)="Delete(item.productid!)" type="button" class="btn btn-outline-danger"  title="Eliminar producto">
                    <i class="bi bi-trash"></i>
                  </button>
                  <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                    data-bs-target="#exampleModalCenter" (click)="ChangePrice(item.productid ?? -1)"  title="Cambiar precio de producto"> 
                    <i class="bi bi-currency-dollar"></i>
                  </button>
                </div>
              </td>
            </tr>
            <tr>
              <td colspan="12" class="hiddenRow">
                <div class="accordian-body collapse" id="demo1">
                  <table class="table table-striped" *ngIf="expandedArea">
                    <thead>
                      <tr class="info">
                        <th>Nombre</th>
                        <th>Descripcion</th>
                        <th>Code</th>
                        <th>Precio compra</th>
                        <th>Precio venta</th>
                        <th>Ganancia</th>
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr data-toggle="collapse" class="accordion-toggle-collapsed" data-target="#demo10">
                        <td>polietileno azul</td>
                        <td>material plastico de color azul</td>
                        <td>0010</td>
                        <td>1000</td>
                        <td>2000</td>
                        <td>1000</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<div class="modal fade modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Cambio de precios</h5>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="Close">
                   
                </button>
            </div>
            <div class="modal-body">
                <app-product-price-inner [productid]="producttochangeprice" [isCreate]="true"></app-product-price-inner>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>